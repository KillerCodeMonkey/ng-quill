(function(){"use strict";var a;a=angular.module("ngQuill",[]),a.provider("ngQuillConfig",function(){var a={fontSizes:[{size:"10px",alias:"small"},{size:"13px",alias:"normal"},{size:"18px",alias:"large"},{size:"32px",alias:"huge"}],fontFamilies:[{label:"Sans Serif",alias:"sans-serif"},{label:"Serif",alias:"serif"},{label:"Monospace",alias:"monospace"}],formats:["link","image","bold","italic","underline","strike","color","background","align","font","size","bullet","list"],translations:{font:"Font",size:"Size",small:"Small",normal:"Normal",large:"Large",huge:"Huge",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strikethrough",textColor:"Text Color",backgroundColor:"Background Color",list:"List",bullet:"Bullet",textAlign:"Text Align",left:"Left",center:"Center",right:"Right",justify:"Justify",link:"Link",image:"Image",visitURL:"Visit URL",change:"Change",done:"Done",cancel:"Cancel",remove:"Remove",insert:"Insert",preview:"Preview"}};this.set=function(b,c){b&&(a.fontSizes=b),c&&(a.fontFamilies=c)},this.$get=function(){return a}}),a.service("ngQuillService",["ngQuillConfig",function(a){this.validateFormats=function(b){var c=[],d=0;for(d;d<b.length;d+=1)-1!==a.formats.indexOf(b[d])&&c.push(b[d]);return c}}]),a.directive("ngQuillEditor",["$timeout","ngQuillService","ngQuillConfig",function(a,b,c){return{scope:{toolbarEntries:"@?",toolbar:"@?",showToolbar:"=?",fontfamilyOptions:"=?",fontsizeOptions:"=?",linkTooltip:"@?",imageTooltip:"@?",theme:"@?",translations:"=?",required:"@?editorRequired",readOnly:"&?",errorClass:"@?",ngModel:"="},require:"ngModel",restrict:"E",templateUrl:"ngQuill/template.html",link:function(d,e,f,g){var h,i={theme:d.theme||"snow",readOnly:d.readOnly||!1,formats:d.toolbarEntries?b.validateFormats(d.toolbarEntries.split(" ")):c.formats,modules:{}},j=!1,k=function(){d.required&&(!d.modelLength||d.modelLength<=1)?(e.addClass("ng-invalid"),e.removeClass("ng-valid"),d.errorClass&&j&&e.hasClass("ng-dirty")&&e.children().addClass(d.errorClass)):(e.removeClass("ng-invalid"),e.addClass("ng-valid"),d.errorClass&&e.children().removeClass(d.errorClass))};d.required&&"true"===d.required?d.required=!0:d.required=!1,d.fontsizeOptions=d.fontsizeOptions||c.fontSizes,d.fontfamilyOptions=d.fontfamilyOptions||c.fontFamilies,d.dict=c.translations,d.shouldShow=function(a){var b=!1,c=0;for(c;c<a.length;c+=1)if(-1!==i.formats.indexOf(a[c])){b=!0;break}return b},d.translations&&(d.dict=d.translations),d.linkTooltip&&"true"===d.linkTooltip&&(i.modules["link-tooltip"]={template:'<span class="title">'+d.dict.visitURL+':&nbsp;</span><a href="#" class="url" target="_blank" href="about:blank"></a><input class="input" type="text"><span>&nbsp;&#45;&nbsp;</span><a href="javascript:;" class="change">'+d.dict.change+'</a><a href="javascript:;" class="remove">'+d.dict.remove+'</a><a href="javascript:;" class="done">'+d.dict.done+"</a>"}),d.imageTooltip&&"true"===d.imageTooltip&&(i.modules["image-tooltip"]={template:'<input class="input" type="textbox"><div class="preview">    <span>'+d.dict.preview+'</span></div><a href="javascript:;" class="cancel">'+d.dict.cancel+'</a><a href="javascript:;" class="insert">'+d.dict.insert+"</a>"}),h=new Quill(e[0].querySelector(".advanced-wrapper .editor-container"),i),d.toolbar&&"true"===d.toolbar&&a(function(){h.addModule("toolbar",{container:e[0].querySelector(".advanced-wrapper .toolbar-container")}),d.toolbarCreated=!0,d.showToolbar=d.hasOwnProperty("showToolbar")?d.showToolbar:!0},0),a(function(){d.$emit("editorCreated",h)}),d.$watch(function(){return d.ngModel},function(a){void 0===a||j||h.setHTML(a)}),d.readOnly&&d.$watch(function(){return d.readOnly()},function(a){h.editor[a?"disable":"enable"]()}),d.regEx=/^([2-9]|[1-9][0-9]+)$/,h.on("text-change",function(){var b=j;j=!0,a(function(){d.modelLength=h.getLength(),b&&k(),g.$setViewValue(h.getHTML())},0)}),e.on("$destroy",function(){h.destroy()})}}}]),a.run(["$templateCache","$rootScope","$window",function(a){return a.put("ngQuill/template.html",'<div id="content-container"><div class="advanced-wrapper"><div class="toolbar toolbar-container" ng-if="toolbar" ng-show="toolbarCreated && showToolbar"><span class="ql-format-group" ng-if="shouldShow([\'font\', \'size\'])"><select title="{{dict.font}}" class="ql-font" ng-if="shouldShow([\'font\'])"><option ng-repeat="option in fontfamilyOptions" value="{{option.alias}}">{{option.label}}</option></select><select title="{{dict.size}}" class="ql-size" ng-if="shouldShow([\'size\'])"><option ng-repeat="option in fontsizeOptions" ng-selected="$index === 1" value="{{option.size}}">{{dict[option.alias] || option.alias}}</option></select></span><span class="ql-format-group" ng-if="shouldShow([\'bold\', \'italic\', \'underline\', \'strike\'])"><span title="{{dict.bold}}" class="ql-format-button ql-bold" ng-if="shouldShow([\'bold\'])"></span><span title="{{dict.italic}}" class="ql-format-button ql-italic" ng-if="shouldShow([\'italic\'])"></span><span title="{{dict.underline}}" class="ql-format-button ql-underline" ng-if="shouldShow([\'underline\'])"></span><span title="{{dict.strike}}" class="ql-format-button ql-strike" ng-if="shouldShow([\'strike\'])"></span></span><span class="ql-format-group" ng-if="shouldShow([\'color\', \'background\'])"><select title="{{dict.textColor}}" class="ql-color" ng-if="shouldShow([\'color\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)" selected=""></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)"></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select><select title="{{dict.backgroundColor}}" class="ql-background" ng-if="shouldShow([\'background\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)"></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)" selected=""></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select></span><span class="ql-format-group" ng-if="shouldShow([\'list\', \'bullet\'])"><span title="{{dict.list}}" class="ql-format-button ql-list" ng-if="shouldShow([\'list\'])"></span><span title="{{dict.bullet}}" class="ql-format-button ql-bullet" ng-if="shouldShow([\'bullet\'])"></span></span><span class="ql-format-group" ng-if="shouldShow([\'align\'])"><select title="{{dict.textAlign}}" class="ql-align"><option value="left" label="{{dict.left}}" selected=""></option><option value="center" label="{{dict.center}}"></option><option value="right" label="{{dict.right}}"></option><option value="justify" label="{{dict.justify}}"></option></select></span><span class="ql-format-group" ng-if="shouldShow([\'link\', \'image\'])"><span title="{{dict.link}}" class="ql-format-button ql-link" ng-if="shouldShow([\'link\'])"></span><span title="{{dict.image}}" class="ql-format-button ql-image" ng-if="shouldShow([\'image\'])"></span></span></div><div class="editor-container"></div><input type="text" ng-model="modelLength" ng-if="required" ng-hide="true" ng-pattern="/^([2-9]|[1-9][0-9]+)$/"></div></div>')}])}).call(this);