!function(a,b){"function"==typeof define&&define.amd?define(["Quill","angular"],function(a,c){return b(a,c)}):"object"==typeof exports?module.exports=b(require("quill"),require("angular")):b(a.Quill,a.angular)}(this,function(a,b){"use strict";var c;c=b.module("ngQuill",[]),c.provider("ngQuillConfig",function(){var a={fontSizes:[{size:"10px",alias:"small"},{size:"13px",alias:"normal"},{size:"18px",alias:"large"},{size:"32px",alias:"huge"}],fontFamilies:[{label:"Sans Serif",alias:"sans-serif"},{label:"Serif",alias:"serif"},{label:"Monospace",alias:"monospace"}],formats:["link","image","bold","italic","underline","strike","color","background","align","font","size","bullet","list"],translations:{font:"Font",size:"Size",small:"Small",normal:"Normal",large:"Large",huge:"Huge",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strikethrough",textColor:"Text Color",backgroundColor:"Background Color",list:"List",bullet:"Bullet",textAlign:"Text Align",left:"Left",center:"Center",right:"Right",justify:"Justify",link:"Link",image:"Image",visitURL:"Visit URL",change:"Change",done:"Done",cancel:"Cancel",remove:"Remove",insert:"Insert",preview:"Preview"}};this.set=function(b,c){b&&(a.fontSizes=b),c&&(a.fontFamilies=c)},this.$get=function(){return a}}),c.service("ngQuillService",["ngQuillConfig",function(a){this.validateFormats=function(b){var c=[],d=0;for(d;d<b.length;d+=1)a.formats.indexOf(b[d])!==-1&&c.push(b[d]);return c}}]),c.component("ngQuillEditor",{bindings:{toolbarEntries:"@?",toolbar:"@?",showToolbar:"<?",fontfamilyOptions:"<?",fontsizeOptions:"<?",linkTooltip:"@?",imageTooltip:"@?",theme:"@?",save:"@?",translations:"<?",required:"@?editorRequired",readOnly:"<?",errorClass:"@?",ngModel:"<",callback:"&?",name:"@?",editorStyles:"<?"},require:{ngModelController:"ngModel"},restrict:"E",templateUrl:"ngQuill/template.html",controller:["$scope","$element","$timeout","ngQuillService","ngQuillConfig",function(b,c,d,e,f){function g(a){if(a.readOnly&&a.readOnly.currentValue!==a.readOnly.previousValue&&h.editor[a.readOnly.currentValue?"disable":"enable"](),a.ngModel&&a.ngModel.currentValue!==a.ngModel.previousValue)return"text"===i.save?h.setText(a.ngModel.currentValue):"contents"===i.save?h.setContents(a.ngModel.currentValue):(void 0===a.ngModel.currentValue&&(a.ngModel.currentValue=""),h.setHTML(a.ngModel.currentValue))}var h,i={theme:this.theme||"snow",save:this.save||"html",readOnly:this.readOnly||!1,formats:this.toolbarEntries?e.validateFormats(this.toolbarEntries.split(" ")):f.formats,modules:{},styles:this.editorStyles||!1},j=!1,k=function(){this.required&&(!this.modelLength||this.modelLength<=1)?(c.addClass("ng-invalid"),c.removeClass("ng-valid"),this.errorClass&&j&&c.hasClass("ng-dirty")&&c.children().addClass(this.errorClass)):(c.removeClass("ng-invalid"),c.addClass("ng-valid"),this.errorClass&&c.children().removeClass(this.errorClass))}.bind(this);this.required&&"true"===this.required?this.required=!0:this.required=!1,this.fontsizeOptions=this.fontsizeOptions||f.fontSizes,this.fontfamilyOptions=this.fontfamilyOptions||f.fontFamilies,this.dict=f.translations,this.shouldShow=function(a){var b=!1,c=0;for(c;c<a.length;c+=1)if(i.formats.indexOf(a[c])!==-1){b=!0;break}return b},this.translations&&(this.dict=this.translations),this.linkTooltip&&"true"===this.linkTooltip&&(i.modules["link-tooltip"]={template:'<span class="title">'+this.dict.visitURL+':&nbsp;</span><a href="#" class="url" target="_blank" href="about:blank"></a><input class="input" type="text"><span>&nbsp;&#45;&nbsp;</span><a href="javascript:;" class="change">'+this.dict.change+'</a><a href="javascript:;" class="remove">'+this.dict.remove+'</a><a href="javascript:;" class="done">'+this.dict.done+"</a>"}),this.imageTooltip&&"true"===this.imageTooltip&&(i.modules["image-tooltip"]={template:'<input class="input" type="textbox"><div class="preview">    <span>'+this.dict.preview+'</span></div><a href="javascript:;" class="cancel">'+this.dict.cancel+'</a><a href="javascript:;" class="insert">'+this.dict.insert+"</a>"});var l=!1,m=!1;this.$onChanges=function(a){if(h)m||g(a);else var c=b.$on("editorCreated",function(){c(),l=!0,g(a)})},this.$onInit=function(){h=new a(c[0].querySelector(".advanced-wrapper .editor-container"),i),h.on("selection-change",function(a){a||d(function(){this.ngModelController.$setTouched()}.bind(this))}.bind(this)),this.toolbar&&"true"===this.toolbar&&b.$applyAsync(function(){h.addModule("toolbar",{container:c[0].querySelector(".advanced-wrapper .toolbar-container")}),this.toolbarCreated=!0,this.showToolbar=!this.hasOwnProperty("showToolbar")||this.showToolbar}.bind(this)),d(function(){b.$emit("editorCreated",h,this.name),this.callback&&this.callback({editor:h,name:this.name}),h.getModule("undo-manager").clear()}.bind(this)),this.regEx=/^([2-9]|[1-9][0-9]+)$/,h.on("text-change",function(){var a=j;return j=!0,l?void(l=!1):(m=!0,void d(function(){this.modelLength=h.getLength(),a&&k();var b;b="text"===i.save?h.getText():"contents"===i.save?h.getContents():h.getHTML(),h.getLength()<1?this.ngModelController.$setViewValue(""):this.ngModelController.$setViewValue(b),m=!1}.bind(this)))}.bind(this)),c.on("$destroy",function(){h.destroy()})}}]}),c.run(["$templateCache","$rootScope","$window",function(a){return a.put("ngQuill/template.html",'<div id="content-container"><div class="advanced-wrapper"><div class="toolbar toolbar-container" ng-if="$ctrl.toolbar" ng-show="$ctrl.toolbarCreated && $ctrl.showToolbar"><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'font\', \'size\'])"><select title="{{$ctrl.dict.font}}" class="ql-font" ng-if="$ctrl.shouldShow([\'font\'])"><option ng-repeat="option in $ctrl.fontfamilyOptions" value="{{option.alias}}">{{option.label}}</option></select><select title="{{$ctrl.dict.size}}" class="ql-size" ng-if="$ctrl.shouldShow([\'size\'])"><option ng-repeat="option in $ctrl.fontsizeOptions" ng-selected="$index === 1" value="{{option.size}}">{{$ctrl.dict[option.alias] || option.alias}}</option></select></span><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'bold\', \'italic\', \'underline\', \'strike\'])"><span title="{{$ctrl.dict.bold}}" class="ql-format-button ql-bold" ng-if="$ctrl.shouldShow([\'bold\'])"></span><span title="{{$ctrl.dict.italic}}" class="ql-format-button ql-italic" ng-if="$ctrl.shouldShow([\'italic\'])"></span><span title="{{$ctrl.dict.underline}}" class="ql-format-button ql-underline" ng-if="$ctrl.shouldShow([\'underline\'])"></span><span title="{{$ctrl.dict.strike}}" class="ql-format-button ql-strike" ng-if="$ctrl.shouldShow([\'strike\'])"></span></span><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'color\', \'background\'])"><select title="{{$ctrl.dict.textColor}}" class="ql-color" ng-if="$ctrl.shouldShow([\'color\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)" selected=""></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)"></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select><select title="{{$ctrl.dict.backgroundColor}}" class="ql-background" ng-if="$ctrl.shouldShow([\'background\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)"></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)" selected=""></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select></span><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'list\', \'bullet\'])"><span title="{{$ctrl.dict.list}}" class="ql-format-button ql-list" ng-if="$ctrl.shouldShow([\'list\'])"></span><span title="{{$ctrl.dict.bullet}}" class="ql-format-button ql-bullet" ng-if="$ctrl.shouldShow([\'bullet\'])"></span></span><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'align\'])"><select title="{{$ctrl.dict.textAlign}}" class="ql-align"><option value="left" label="{{$ctrl.dict.left}}" selected=""></option><option value="center" label="{{$ctrl.dict.center}}"></option><option value="right" label="{{$ctrl.dict.right}}"></option><option value="justify" label="{{$ctrl.dict.justify}}"></option></select></span><span class="ql-format-group" ng-if="$ctrl.shouldShow([\'link\', \'image\'])"><span title="{{$ctrl.dict.link}}" class="ql-format-button ql-link" ng-if="$ctrl.shouldShow([\'link\'])"></span><span title="{{$ctrl.dict.image}}" class="ql-format-button ql-image" ng-if="$ctrl.shouldShow([\'image\'])"></span></span></div><div class="editor-container"></div><input type="text" ng-model="$ctrl.modelLength" ng-if="$ctrl.required" ng-hide="true" ng-pattern="/^([2-9]|[1-9][0-9]+)$/"></div></div>')}])});