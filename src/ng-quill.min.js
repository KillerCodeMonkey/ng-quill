(function(){var o;o=angular.module("ngQuill",[]),o.service("ngQuillService",function(){this.formats=["link","image","bold","italic","underline","strike","color","background","align","font","size","bullet","list"],this.defaultTranslation={font:"Font",size:"Size",small:"Small",normal:"Normal",large:"Large",huge:"Huge",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strikethrough",textColor:"Text Color",backgroundColor:"Background Color",list:"List",bullet:"Bullet",textAlign:"Text Align",left:"Left",center:"Center",right:"Right",justify:"Justify",link:"Link",image:"Image",visitURL:"Visit URL",change:"Change",done:"Done",cancel:"Cancel",insert:"Insert",preview:"Preview"},this.validateFormats=function(o){var l=[],t=this,e=0;for(e;e<o.length;e+=1)-1!==t.formats.indexOf(o[e])&&l.push(o[e]);return l}}),o.directive("ngQuillEditor",["$timeout","ngQuillService",function(o,l){return{scope:{toolbarEntries:"@?",toolbar:"@?",linkTooltip:"@?",imageTooltip:"@?",theme:"@?",translations:"=?",required:"@?editorRequired",readOnly:"@?",errorClass:"@?",ngModel:"="},require:"ngModel",restrict:"E",templateUrl:"ngQuill/template.html",link:function(t,e,i,n){var a,r={theme:t.theme||"snow",readOnly:t.readOnly||!1,formats:t.toolbarEntries?l.validateFormats(t.toolbarEntries.split(" ")):l.formats,modules:{}},b=!1,p=function(){t.required&&(!t.modelLength||t.modelLength<=1)?(e.addClass("ng-invalid"),e.removeClass("ng-valid"),t.errorClass&&b&&e.hasClass("ng-dirty")&&e.children().addClass(t.errorClass)):(e.removeClass("ng-invalid"),e.addClass("ng-valid"),t.errorClass&&e.children().removeClass(t.errorClass))};t.required=t.required&&"true"===t.required,t.dict=l.defaultTranslation,t.shouldShow=function(o){var l=!1,t=0;for(t;t<o.length;t+=1)if(-1!==r.formats.indexOf(o[t])){l=!0;break}return l},t.translations&&(t.dict=t.translations),t.linkTooltip&&"true"===t.linkTooltip&&(r.modules["link-tooltip"]={template:'<span class="title">'+t.dict.visitURL+':&nbsp;</span><a href="#" class="url" target="_blank" href="about:blank"></a><input class="input" type="text"><span>&nbsp;&#45;&nbsp;</span><a href="javascript:;" class="change">'+t.dict.change+'</a><a href="javascript:;" class="done">'+t.dict.done+"</a>"}),t.imageTooltip&&"true"===t.imageTooltip&&(r.modules["image-tooltip"]={template:'<input class="input" type="textbox"><div class="preview">    <span>'+t.dict.preview+'</span></div><a href="javascript:;" class="cancel">'+t.dict.cancel+'</a><a href="javascript:;" class="insert">'+t.dict.insert+"</a>"}),a=new Quill(e[0].querySelector(".advanced-wrapper .editor-container"),r),t.toolbar&&"true"===t.toolbar&&o(function(){a.addModule("toolbar",{container:e[0].querySelector(".advanced-wrapper .toolbar-container")}),t.toolbarCreated=!0},0),o(function(){t.$emit("editorCreated",a)}),t.$watch(function(){return t.ngModel},function(o){b=!1,void 0===o||b||a.setHTML(o)}),t.regEx=/^([2-9]|[1-9][0-9]+)$/,a.on("text-change",function(){var l=b;b=!0,o(function(){t.modelLength=a.getLength(),l&&p(),n.$setViewValue(a.getHTML())},0)})}}}]),o.run(["$templateCache","$rootScope","$window",function(o,l,t){return l.$on("$locationChangeSuccess",function(){t.Quill&&t.Quill.editors&&(t.Quill.editors.length=0)}),o.put("ngQuill/template.html",'<div id="content-container"><div class="advanced-wrapper"><div class="toolbar toolbar-container" ng-if="toolbar" ng-show="toolbarCreated"><span class="ql-format-group" ng-if="shouldShow([\'font\', \'size\'])"><select title="{{dict.font}}" class="ql-font" ng-if="shouldShow([\'font\'])"><option value="sans-serif" selected="">Sans Serif</option><option value="serif">Serif</option><option value="monospace">Monospace</option></select><select title="{{dict.size}}" class="ql-size" ng-if="shouldShow([\'size\'])"><option value="10px">{{dict.small}}</option><option value="13px" selected="">{{dict.normal}}</option><option value="18px">{{dict.large}}</option><option value="32px">{{dict.huge}}</option></select></span><span class="ql-format-group" ng-if="shouldShow([\'bold\', \'italic\', \'underline\', \'strike\'])"><span title="{{dict.bold}}" class="ql-format-button ql-bold" ng-if="shouldShow([\'bold\'])"></span><span title="{{dict.italic}}" class="ql-format-button ql-italic" ng-if="shouldShow([\'italic\'])"></span><span title="{{dict.underline}}" class="ql-format-button ql-underline" ng-if="shouldShow([\'underline\'])"></span><span title="{{dict.strike}}" class="ql-format-button ql-strike" ng-if="shouldShow([\'strike\'])"></span></span><span class="ql-format-group" ng-if="shouldShow([\'color\', \'background\'])"><select title="{{dict.textColor}}" class="ql-color" ng-if="shouldShow([\'color\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)" selected=""></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)"></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select><select title="{{dict.backgroundColor}}" class="ql-background" ng-if="shouldShow([\'background\'])"><option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)"></option><option value="rgb(230, 0, 0)" label="rgb(230, 0, 0)"></option><option value="rgb(255, 153, 0)" label="rgb(255, 153, 0)"></option><option value="rgb(255, 255, 0)" label="rgb(255, 255, 0)"></option><option value="rgb(0, 138, 0)" label="rgb(0, 138, 0)"></option><option value="rgb(0, 102, 204)" label="rgb(0, 102, 204)"></option><option value="rgb(153, 51, 255)" label="rgb(153, 51, 255)"></option><option value="rgb(255, 255, 255)" label="rgb(255, 255, 255)" selected=""></option><option value="rgb(250, 204, 204)" label="rgb(250, 204, 204)"></option><option value="rgb(255, 235, 204)" label="rgb(255, 235, 204)"></option><option value="rgb(255, 255, 204)" label="rgb(255, 255, 204)"></option><option value="rgb(204, 232, 204)" label="rgb(204, 232, 204)"></option><option value="rgb(204, 224, 245)" label="rgb(204, 224, 245)"></option><option value="rgb(235, 214, 255)" label="rgb(235, 214, 255)"></option><option value="rgb(187, 187, 187)" label="rgb(187, 187, 187)"></option><option value="rgb(240, 102, 102)" label="rgb(240, 102, 102)"></option><option value="rgb(255, 194, 102)" label="rgb(255, 194, 102)"></option><option value="rgb(255, 255, 102)" label="rgb(255, 255, 102)"></option><option value="rgb(102, 185, 102)" label="rgb(102, 185, 102)"></option><option value="rgb(102, 163, 224)" label="rgb(102, 163, 224)"></option><option value="rgb(194, 133, 255)" label="rgb(194, 133, 255)"></option><option value="rgb(136, 136, 136)" label="rgb(136, 136, 136)"></option><option value="rgb(161, 0, 0)" label="rgb(161, 0, 0)"></option><option value="rgb(178, 107, 0)" label="rgb(178, 107, 0)"></option><option value="rgb(178, 178, 0)" label="rgb(178, 178, 0)"></option><option value="rgb(0, 97, 0)" label="rgb(0, 97, 0)"></option><option value="rgb(0, 71, 178)" label="rgb(0, 71, 178)"></option><option value="rgb(107, 36, 178)" label="rgb(107, 36, 178)"></option><option value="rgb(68, 68, 68)" label="rgb(68, 68, 68)"></option><option value="rgb(92, 0, 0)" label="rgb(92, 0, 0)"></option><option value="rgb(102, 61, 0)" label="rgb(102, 61, 0)"></option><option value="rgb(102, 102, 0)" label="rgb(102, 102, 0)"></option><option value="rgb(0, 55, 0)" label="rgb(0, 55, 0)"></option><option value="rgb(0, 41, 102)" label="rgb(0, 41, 102)"></option><option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option></select></span><span class="ql-format-group" ng-if="shouldShow([\'list\', \'bullet\'])"><span title="{{dict.list}}" class="ql-format-button ql-list" ng-if="shouldShow([\'list\'])"></span><span title="{{dict.bullet}}" class="ql-format-button ql-bullet" ng-if="shouldShow([\'bullet\'])"></span></span><span class="ql-format-group" ng-if="shouldShow([\'align\'])"><select title="{{dict.textAlign}}" class="ql-align"><option value="left" label="{{dict.left}}" selected=""></option><option value="center" label="{{dict.center}}"></option><option value="right" label="{{dict.right}}"></option><option value="justify" label="{{dict.justify}}"></option></select></span><span class="ql-format-group" ng-if="shouldShow([\'link\', \'image\'])"><span title="{{dict.link}}" class="ql-format-button ql-link" ng-if="shouldShow([\'link\'])"></span><span title="{{dict.image}}" class="ql-format-button ql-image" ng-if="shouldShow([\'image\'])"></span></span></div><div class="editor-container"></div><input type="text" ng-model="modelLength" ng-if="required" ng-hide="true" ng-pattern="/^([2-9]|[1-9][0-9]+)$/"></div></div>')}])}).call(this);